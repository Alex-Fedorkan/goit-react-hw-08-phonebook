{"version":3,"sources":["components/ContactForm/ContactForm.module.css","components/ContactList/ContactList.module.css","components/UserMenu/UserMenu.js","components/AppBar/AppBar.js","redux/contacts/contacts-selectors.js","components/ContactForm/ContactForm.js","redux/contacts/contacts-operations.js","components/ContactList/ContactItem/ContactItem.js","components/ContactList/ContactList.js","components/Filter/Filter.js","views/ContactsView.js"],"names":["module","exports","UserMenu","dispatch","useDispatch","email","useSelector","getUserEmail","pending","getLogOutPending","Box","sx","display","alignItems","Typography","color","marginRight","Button","onClick","logOut","disabled","CircularProgress","size","useStyles","makeStyles","theme","root","flexGrow","title","ApplicationBar","classes","className","AppBar","position","Container","Toolbar","variant","component","getContacts","state","contacts","items","getFilter","filter","getVisibleContacts","createSelector","contact","name","toLowerCase","includes","ContactForm","useForm","register","control","handleSubmit","errors","reset","s","form","onSubmit","number","find","alert","a","addContactRequest","axios","post","data","addContactSuccess","addContactError","message","addContact","autoComplete","label","htmlFor","input","type","ref","required","text","defaultValue","rules","pattern","render","value","onChange","format","mask","allowEmptyFormatting","btn","ContactItem","id","deleteContact","ContactList","useEffect","fetchContactsRequest","get","fetchContactsSuccess","fetchContactsError","list","map","contactId","deleteContactRequest","delete","deleteContactSuccess","deleteContactError","Filter","e","changeFilter","target","ContactsView"],"mappings":"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","file":"static/js/contacts-view.ac26aaa7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ContactForm_form__11B-A\",\"label\":\"ContactForm_label__1r6Mk\",\"input\":\"ContactForm_input__1hna5\",\"btn\":\"ContactForm_btn__3yYCW\",\"text\":\"ContactForm_text__1mP5m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ContactList_list__1d8wi\"};","import { useSelector, useDispatch } from 'react-redux';\nimport { logOut } from '../../redux/authorization/authorization-operations';\nimport {\n  getLogOutPending,\n  getUserEmail,\n} from '../../redux/authorization/authorization-selectors';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { Box, Typography } from '@material-ui/core';\n\nconst UserMenu = () => {\n  const dispatch = useDispatch();\n  const email = useSelector(getUserEmail);\n  const pending = useSelector(getLogOutPending);\n\n  return (\n    <Box sx={{ display: 'flex', alignItems: 'center' }}>\n      <Typography color=\"textPrimary\" sx={{ marginRight: 5 }}>\n        {email}\n      </Typography>\n      {pending ? (\n        <Button onClick={() => dispatch(logOut())} disabled>\n          <CircularProgress size={24} color=\"secondary\" />\n        </Button>\n      ) : (\n        <Button color=\"inherit\" onClick={() => dispatch(logOut())}>\n          Exit\n        </Button>\n      )}\n    </Box>\n  );\n};\n\nexport default UserMenu;\n","import { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport UserMenu from '../UserMenu/UserMenu';\nimport { Container } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nconst ApplicationBar = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Container>\n          <Toolbar>\n            <Typography variant=\"h3\" className={classes.title} component=\"div\">\n              Contacts\n            </Typography>\n            <UserMenu />\n          </Toolbar>\n        </Container>\n      </AppBar>\n    </div>\n  );\n};\n\nexport default ApplicationBar;\n","import { createSelector } from '@reduxjs/toolkit';\n\nexport const getContacts = state => state.contacts.items;\nexport const getFilter = state => state.contacts.filter;\nexport const getIsLoading = state => state.contacts.isLoading;\nexport const getError = state => state.contacts.error;\n\nexport const getVisibleContacts = createSelector(\n  [getContacts, getFilter],\n  (contacts, filter) =>\n    contacts.filter(contact =>\n      contact?.name.toLowerCase().includes(filter.toLowerCase()),\n    ),\n);\n","import { useForm, Controller } from 'react-hook-form';\nimport { useSelector, useDispatch } from 'react-redux';\nimport NumberFormat from 'react-number-format';\nimport { getContacts } from '../../redux/contacts/contacts-selectors';\nimport { addContact } from '../../redux/contacts/contacts-operations';\nimport s from './ContactForm.module.css';\n\nconst ContactForm = () => {\n  const contacts = useSelector(getContacts);\n  const dispatch = useDispatch();\n\n  const { register, control, handleSubmit, errors, reset } = useForm();\n  const phoneRegExp = /^\\+380\\s\\(([0-9]{2})\\)\\s([0-9]{3})-([0-9]{4})$/;\n\n  const addNewContact = ({ name, number }) => {\n    if (\n      contacts.find(\n        contact => contact.name.toLowerCase() === name.toLowerCase(),\n      )\n    ) {\n      alert(`${name} is already in contacts.`);\n      reset({\n        name: '',\n        number: '',\n      });\n      return;\n    }\n    const contact = { name, number };\n    dispatch(addContact(contact));\n    reset({\n      name: '',\n      number: '',\n    });\n  };\n\n  return (\n    <form\n      className={s.form}\n      onSubmit={handleSubmit(addNewContact)}\n      autoComplete=\"off\"\n    >\n      <label className={s.label} htmlFor=\"name\">\n        Name\n      </label>\n      <input\n        className={s.input}\n        name=\"name\"\n        type=\"text\"\n        ref={register({ required: true })}\n      />\n      {errors.name && <p className={s.text}>This field is required!</p>}\n\n      <label className={s.label} htmlFor=\"number\">\n        Number\n      </label>\n      <Controller\n        name=\"number\"\n        control={control}\n        defaultValue={false}\n        rules={{\n          required: true,\n          pattern: phoneRegExp,\n        }}\n        render={({ value, onChange }) => (\n          <NumberFormat\n            className={s.input}\n            type={'tel'}\n            format=\"+380 (##) ###-####\"\n            mask=\"_\"\n            allowEmptyFormatting\n            value={value}\n            onChange={onChange}\n          />\n        )}\n      />\n      {errors.number && <p className={s.text}>This field is required!</p>}\n      {errors.number?.type === 'pattern' && (\n        <p className={s.text}>Phone number is not valid!</p>\n      )}\n\n      <button className={s.btn} type=\"submit\">\n        Add contact\n      </button>\n    </form>\n  );\n};\n\nexport default ContactForm;\n","import axios from 'axios';\nimport {\n  fetchContactsRequest,\n  fetchContactsSuccess,\n  fetchContactsError,\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n} from './contacts-actions';\n\nexport const fetchContacts = () => async dispatch => {\n  dispatch(fetchContactsRequest());\n\n  try {\n    const { data } = await axios.get('/contacts');\n\n    dispatch(fetchContactsSuccess(data));\n  } catch (error) {\n    dispatch(fetchContactsError(error.message));\n  }\n};\n\nexport const addContact = contact => async dispatch => {\n  dispatch(addContactRequest());\n\n  try {\n    const { data } = await axios.post('/contacts', contact);\n\n    dispatch(addContactSuccess(data));\n  } catch (error) {\n    dispatch(addContactError(error.message));\n  }\n};\n\nexport const deleteContact = contactId => async dispatch => {\n  dispatch(deleteContactRequest());\n\n  try {\n    await axios.delete(`/contacts/${contactId}`);\n\n    dispatch(deleteContactSuccess(contactId));\n  } catch (error) {\n    dispatch(deleteContactError(error.message));\n  }\n};\n","import PropTypes from 'prop-types';\n\nconst ContactItem = ({ id, name, number, deleteContact }) => {\n  return (\n    <li>\n      {name}: {number}\n      <button type=\"button\" onClick={() => deleteContact(id)}>\n        Delete\n      </button>\n    </li>\n  );\n};\n\nContactItem.propTypes = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  number: PropTypes.string.isRequired,\n  deleteContact: PropTypes.func.isRequired,\n};\n\nexport default ContactItem;\n","import { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getVisibleContacts } from '../../redux/contacts/contacts-selectors';\nimport { deleteContact } from '../../redux/contacts/contacts-operations';\nimport ContactItem from './ContactItem/ContactItem';\nimport { fetchContacts } from '../../redux/contacts/contacts-operations';\nimport s from './ContactList.module.css';\n\nconst ContactList = () => {\n  const contacts = useSelector(getVisibleContacts);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchContacts());\n  }, [dispatch]);\n\n  return (\n    <ul className={s.list}>\n      {contacts.map(({ id, name, number }) => (\n        <ContactItem\n          key={id}\n          id={id}\n          name={name}\n          number={number}\n          deleteContact={id => dispatch(deleteContact(id))}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ContactList;\n","import { useSelector, useDispatch } from 'react-redux';\nimport { getFilter } from '../../redux/contacts/contacts-selectors';\nimport { changeFilter } from '../../redux/contacts/contacts-actions';\n\nconst Filter = () => {\n  const value = useSelector(getFilter);\n  const dispatch = useDispatch();\n\n  return (\n    <label>\n      Find contacts by name\n      <input\n        type=\"text\"\n        value={value}\n        onChange={e => dispatch(changeFilter(e.target.value))}\n      />\n    </label>\n  );\n};\n\nexport default Filter;\n","import { Box, Container, Typography } from '@material-ui/core';\nimport ApplicationBar from '../components/AppBar/AppBar';\nimport ContactForm from '../components/ContactForm/ContactForm';\nimport ContactList from '../components/ContactList/ContactList';\nimport Filter from '../components/Filter/Filter';\n\nconst ContactsView = () => {\n  return (\n    <>\n      <ApplicationBar />\n      <Container>\n        <Box>\n          <Typography variant=\"h4\">Phonebook</Typography>\n          <ContactForm />\n          <Typography variant=\"h4\">Contacts</Typography>\n          <Filter />\n          <ContactList />\n        </Box>\n      </Container>\n    </>\n  );\n};\n\nexport default ContactsView;\n"],"sourceRoot":""}